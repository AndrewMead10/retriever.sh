# Required: JWT Secret for token signing
JWT_SECRET=change-me-in-production

# Authentication Configuration
ACCESS_TOKEN_TTL_MINUTES=15
REFRESH_TOKEN_TTL_DAYS=30

# Application Settings
LOG_LEVEL=INFO
ENABLE_USER_REGISTRATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_ADMIN_PANEL=true
ENABLE_BACKUPS=true

# LogFire Configuration (optional)
LOGFIRE_ENABLED=true
LOGFIRE_TOKEN=
LOGFIRE_ENVIRONMENT=development
LOGFIRE_SERVICE_NAME=rag-app

# CORS Settings (dev-friendly, same-origin recommended for production)
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=true

# Database
# Default assumes docker-compose stack (postgres/postgres credentials)
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/rag

# Monitoring
GRAFANA_PASSWORD=secure-admin-password
GRAFANA_ADMIN_USER=admin

# Cloudflare R2 Backup (optional)
ENABLE_R2_BACKUP=false
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=
R2_IMAGES_BUCKET=
R2_IMAGES_PUBLIC_BASE_URL=
R2_IMAGES_PRESIGN_TTL_SECONDS=3600

# Email Configuration (Amazon SES, optional)
SES_FROM_EMAIL=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
FRONTEND_URL=http://localhost:3000

# Google OAuth (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:5656/api/auth/google/callback
GOOGLE_ALLOWED_DOMAINS=[]

# Polar Payments
POLAR_ACCESS_TOKEN=
POLAR_ENVIRONMENT=production
POLAR_WEBHOOK_SECRET=
POLAR_ORGANIZATION_SLUG=
POLAR_PRODUCT_TINKERING_ID=
POLAR_PRODUCT_BUILDING_ID=
POLAR_PRODUCT_SCALE_ID=
POLAR_SUCCESS_URL=http://localhost:3000/billing/success
POLAR_CANCEL_URL=http://localhost:3000/billing
POLAR_PORTAL_RETURN_URL=http://localhost:3000/billing

# RAG / Embeddings
RAG_MODEL_REPO=nomic-ai/nomic-embed-text-v1.5-GGUF
RAG_MODEL_FILENAME=nomic-embed-text-v1.5.Q8_0.gguf
RAG_MODEL_DIR=models
RAG_EMBED_DIM=256
RAG_HF_TOKEN=
RAG_LLAMA_THREADS=4
RAG_LLAMA_BATCH_SIZE=8
RAG_LLAMA_CONTEXT=2048
RAG_IMAGE_MODEL_ID=google/siglip2-base-patch16-224
RAG_IMAGE_MODEL_DIR=models/siglip2
# SigLIP2 base outputs 768-dimensional embeddings.
RAG_IMAGE_EMBED_DIM=768
RAG_IMAGE_DEVICE=cpu
RAG_IMAGE_DTYPE=float32
RAG_IMAGE_MAX_BYTES=10485760
RAG_IMAGE_ALLOWED_MIME_TYPES=["image/jpeg","image/png","image/webp","image/gif"]

# Vespa
VESPA_ENDPOINT=http://localhost:8080
VESPA_NAMESPACE=rag
VESPA_DOCUMENT_TYPE=rag_document
VESPA_RANK_PROFILE=rag-hybrid
VESPA_TIMEOUT_SECONDS=10
# Source embedding dimensions before Vespa binarize|pack_bits (must be divisible by 8).
VESPA_EMBED_DIM=256
VESPA_IMAGE_DOCUMENT_TYPE=rag_image
VESPA_IMAGE_RANK_PROFILE=rag-image
VESPA_IMAGE_EMBED_DIM=768
